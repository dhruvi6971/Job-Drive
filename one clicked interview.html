<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Job Profiles</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet"/>
  <script src="https://unpkg.com/feather-icons"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: "Inter", sans-serif; }
    body { background: #f5f6f7; display: flex; min-height: 100vh; }

    /* === SIDEBAR === */
    .sidebar {
      position: fixed; left: 0; top: 0;
      width: 272px; height: 100vh;
      background: #111827; display: flex; flex-direction: column;
      justify-content: space-between; padding: 0 0 24px 0;
      box-sizing: border-box; transition: width 0.3s ease, left 0.3s ease; z-index: 1000;
    }
/* COLLAPSED SIDEBAR */
.sidebar.collapsed .sidebar-logo .logo-img {
  display: none; /* Hide logo */
}

.sidebar.collapsed .sidebar-menu li span.label {
  display: none; /* Hide menu names */
}

.sidebar.collapsed .sidebar-profile {
  display: none; /* Hide profile section entirely */
}
/* When sidebar is collapsed */
.sidebar.collapsed .sidebar-menu li {
  justify-content: center;   /* Center icons horizontally */
  padding: 12px 0;           /* Equal padding top/bottom, no left padding */
  gap: 0;                    /* Remove gap between icon and label (label hidden anyway) */
}

.sidebar.collapsed .back-icon {
  justify-content: center;   /* Center toggle icon */
  margin-left: 24px;
}

    .sidebar.collapsed { width: 72px; }
    .sidebar-logo { width: 100%; display: flex; justify-content: space-between; align-items: center; padding: 32px 0 16px; margin: 8px 0; }
    .logo-img { width: 140px; margin-left: 32px; }
    .back-icon { margin-right: 24px; color: #fff; cursor: pointer; display: flex; align-items: center; justify-content: center; }
    .icon-left { display: inline; } 
    .icon-right { display: none; }
    .sidebar.collapsed .logo-img { display: none; }
    .sidebar.collapsed .icon-left { display: none; }
    .sidebar.collapsed .icon-right { display: inline; }

    .sidebar-menu { list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; }
    .sidebar-menu li {
      display: flex; align-items: center; padding: 14px 0 12px 32px;
      font-size: 16px; font-weight: 600; cursor: pointer; gap: 12px; border-radius: 12px; transition: all 0.2s ease;
    }
    .sidebar-menu li .icon { color: #fff; display: flex; align-items: center; justify-content: center; min-width: 22px; }
    .sidebar-menu li .label { color: #9E9E9E; white-space: nowrap; }
    .sidebar-menu li:hover { background: rgba(73,200,251,0.12); padding-left: 24px; margin: 4px 16px; gap: 8px; }
    .sidebar-menu li:hover .label, .sidebar-menu li.active .label { color: #38bdf8; }
    .sidebar-menu li:hover .icon, .sidebar-menu li.active .icon { color: #38bdf8; }

    .sidebar-bottom { margin-top: auto; }
    .sidebar-profile {
      display: flex; align-items: center; background: #1e293b; border-radius: 12px;
      padding: 16px 20px; margin: 24px 16px 0; gap: 16px; text-decoration: none; color: inherit;
      transition: background 0.3s ease;
    }
    .sidebar-profile:hover { background: rgba(73,200,251,0.12); }
    .sidebar-profile img { width: 48px; height: 48px; border-radius: 50%; object-fit: cover; }
    .profile-info { display: flex; flex-direction: column; }
    .profile-info .name { color: #fff; font-size: 13px; font-weight: 600; }
    .profile-info .email { color: #808080; font-size: 12px; font-weight: 500; }

    /* === MAIN CONTENT === */
    .main-content { flex: 1; margin-left: 272px; padding: 20px; transition: margin-left 0.3s ease; }
    .main-content.expanded { margin-left: 72px; }
    .content-card { background: #fff; padding: 20px; border-radius: 12px; box-shadow: 0 2px 6px rgba(0,0,0,0.05); }
    .top-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; gap: 12px; flex-wrap: wrap; }
    .search-input { flex: 1; padding: 14px 16px; border: 1px solid #D1D5DB; border-radius: 12px; background-color: #F8F9FB; font-size: 16px;}
    .add-profile-btn { background: #38bdf8; color: white; border: none; padding: 14px 20px; border-radius: 12px; cursor: pointer; font-size: 16px; }
    .table-container { display: flex; flex-direction: column; gap: 12px; }
    .table-header, .table-row { display: flex; align-items: center; padding: 12px; border-radius: 8px; }
    .table-header { background: #f1f5f9; font-weight: 600; }
    .table-row { background: #fff; border: 1px solid #e5e7eb; flex-wrap: wrap; }
    .col { padding: 6px 8px; }
    .profile-col { flex: 3; }
    .drives-col { flex: 1.5; display: flex; align-items: center; justify-content: flex-start; }
    .actions-col { flex: 1.5; display: flex; align-items: center; justify-content: flex-start; gap: 8px; flex-wrap: wrap; }
    .btn { border: none; padding: 8px 12px; border-radius: 6px; font-size: 14px; cursor: pointer; display: flex; align-items: center; gap: 6px; }
    .btn.view { background: #38bdf8; color: white;}
    .btn.edit { background: rgba(73, 200, 251, 0.16); color: #38bdf8 }
    .btn.delete { background: rgba(251, 73, 76, 0.16); color: #FB494C; }
    .summary { font-size: 14px; color: #555; margin-top: 6px; }
    .summary a { color: #2563eb; cursor: pointer; display: inline-block; margin-top: 6px; }
.add-profile-btn {
  background: #38bdf8;
  color: white;
  border: none;
  padding: 14px 20px;
  font-size: 16px;
  border-radius: 12px;
  cursor: pointer;

  /* Fix alignment */
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;   /* space between icon and text */
}
.btn {
  border: none;
  padding: 10px 16px;      /* 16px vertical, 10px horizontal */
  border-radius: 8px;
  font-size: 16px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;                /* spacing between icon and text */
}

/* Smaller icons inside buttons */
.btn i {
  width: 16px;   /* a bit smaller */
  height: 16px;
}
/* Modal styles */
.modal {
  display: none;
  position: fixed; inset: 0;
  background: rgba(0,0,0,0.5);
  justify-content: center; align-items: center;
  z-index: 2000;
}

.modal-content h2 {
  margin-bottom: 16px;
  font-size: 20px;
  color: #111827;
}

.form-group {
  margin-bottom: 16px;
  display: flex;
  flex-direction: column;
}

.form-group label {
  font-weight: 600;
  margin-bottom: 6px;
  font-size: 14px;
  color: #374151;
}

.form-group input,
.form-group textarea {
  padding: 10px 12px;
  border: 1px solid #D1D5DB;
  border-radius: 8px;
  font-size: 14px;
}

.form-actions {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
}

.btn.save {
  background: #38bdf8;
  color: white;
}

.btn.cancel {
  background: #e5e7eb;
  color: #111827;
}
.modal-content { 
  background: #fff; 
  padding: 20px 20px;
  border-radius: 24px; 
  width: 800px;
   min-height: 20px; 
   max-width: 95vw; 
   box-shadow: 0 8px 32px rgba(0,0,0,0.22); 
   font-size: 18px; 
   display: flex; 
   flex-direction: column; 
   justify-content: center; } 
   .modal-content h2 { margin-bottom: 40px; font-size: 20px; } 
   .form-group label { font-size: 18px; } 
   .form-group input, .form-group textarea 
   { font-size: 20px; padding: 16px 18px; } 
   .form-actions { gap: 16px; margin-top: 36px; } /* Make input fields and textarea big inside the modal */ 
   .modal-content input, .modal-content textarea { font-size: 18px; padding: 28px 22px; border-radius: 12px; min-height: 56px; } 
   .modal-content textarea { min-height: 90px; resize: vertical; } /* Make modal form buttons big */ 
   .modal-content .btn { font-size: 20px; padding: 16px 32px; border-radius: 12px; } /* Make the description textarea much taller in the modal */
   .modal-content textarea#jobDescText { min-height: 220px; font-size: 16px; padding: 18px 18px; border-radius: 12px; resize: vertical; } /* Make the Job Title input and File Upload input less tall in the modal */
   .modal-content input#jobTitle, .modal-content input#jobDescFile { min-height: 64px; padding: 18px 18px; font-size: 16px;}


    /* === MOBILE === */
    .mobile-toggle-btn {
      position: fixed; top: 16px; left: 16px; background: #111827; border: none;
      color: white; padding: 8px; border-radius: 6px; z-index: 11000; cursor: pointer;
      display: none;
    }
    @media (max-width: 768px) {
      .mobile-toggle-btn { display: block; }
      .sidebar { left: -272px; }
      .sidebar.active { left: 0; }
      .main-content { margin-left: 0; padding: 80px 16px 20px; }
      .table-header { display: none; }
      .table-row { flex-direction: column; align-items: flex-start; padding: 16px; gap: 12px; }
      .profile-col, .drives-col, .actions-col { flex: unset; width: 100%; }

}
@media (max-width: 768px) {
       .logo-img { margin-left: 66px; margin-top: -26px;}
       .sidebar-menu{
        padding-top: 0px;
        margin-top: -12px;
       }
      .mobile-toggle-btn { display: block; }
      .back-icon { display: none; } /* Hide collapse icon on mobile */
      .sidebar { left: -272px; }
      .sidebar.active { left: 0; }
      .main-content { margin-left: 0; padding: 80px 16px 20px; }
      .table-header { display: none; }
      .table-row { flex-direction: column; align-items: flex-start; padding: 16px; gap: 12px; }
      .sidebar-profile{
        margin-bottom: 60px;
      }
      .profile-col, .drives-col, .actions-col { flex: unset; width: 100%; }
    }
@media (max-width: 768px) {
  .table-row {
    flex-direction: row;
    align-items: flex-start;
    padding: 16px;
    gap: 12px;
  }
  .btn.view, .btn.edit, .btn.delete {
  align-items: center;
  justify-content: center;
  display: flex;
  flex-wrap: wrap;
}}
.container {
      max-width: 1200px;
      margin: 2rem auto;
      background: #fff;
      border-radius: 12px;
      padding: 2rem;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      border: 2px solid #3b82f6;
    }

    /* Header */
    .header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 2rem;
    }
    .candidate h2 {
      margin: 0;
      font-size: 1.5rem;
      font-weight: 700;
      color: #0f172a;
    }

    /* AI Review Card */
    .ai-review {
      background: #e0f2fe;
      padding: 1rem;
      border-radius: 8px;
      max-width: 320px;
    }
    .ai-review h3 {
      margin: 0 0 0.5rem 0;
      font-size: 1rem;
      font-weight: 600;
      color: #1e3a8a;
    }
    .ai-review p {
      font-size: 0.9rem;
      color: #1e293b;
      margin: 0.25rem 0;
    }

    /* Sections */
    .section {
      margin-bottom: 2rem;
    }
    .section h3 {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: #334155;
    }
    .field {
      margin-bottom: 1rem;
    }
    .field label {
      font-size: 0.85rem;
      font-weight: 600;
      color: #475569;
      display: block;
      margin-bottom: 0.25rem;
    }
    .field p {
      margin: 0;
      font-size: 0.95rem;
    }

    /* QA Section */
    .qa {
      margin-bottom: 1.5rem;
    }
    .question {
      display: inline-block;
      background: #e2e8f0;
      padding: 0.6rem 1rem;
      border-radius: 8px;
      margin-bottom: 0.5rem;
      font-weight: 500;
    }
    .answer {
      display: inline-block;
      background: #e0f2fe;
      padding: 0.6rem 1rem;
      border-radius: 8px;
      color: #1e293b;
    }

    /* Back Button */
    .back-btn {
      display: inline-block;
      margin-bottom: 1.5rem;
      text-decoration: none;
      font-size: 0.9rem;
      color: #2563eb;
      font-weight: 600;
    }
  

  </style>
</head>
<body>

  <!-- Mobile Sidebar Toggle -->
  <button id="mobileToggle" class="mobile-toggle-btn"><i data-feather="menu"></i></button>

  <div class="sidebar">
    <!-- Top Section -->
    <div>
      <div class="sidebar-logo">
        <img src="logo1.png" alt="Jobdrive Logo" class="logo-img" />
        <span id="toggleSidebar" class="back-icon">
          <i data-feather="chevron-left" class="icon-left"></i>
          <i data-feather="chevron-right" class="icon-right"></i>
        </span>
      </div>

     <ul class="sidebar-menu">
  <li>
    <a href="dashboard.html" style="display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit;">
      <span class="icon"><i data-feather="home"></i></span>
      <span class="label">Dashboard</span>
    </a>
  </li>
  <li>
    <a href="interviews.html" style="display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit;">
      <span class="icon"><i data-feather="phone"></i></span>
      <span class="label">Interviews</span>
    </a>
  </li>
  <li class="active"    >
    <a href="jobdrive.html" style="display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit;">
      <span class="icon"><i data-feather="layers"></i></span>
      <span class="label">Job Drives</span>
    </a>
  </li>
  <li>
    <a href="jobprofile.html" style="display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit;">
      <span class="icon"><i data-feather="user"></i></span>
      <span class="label">Job Profiles</span>
    </a>
  </li>
</ul>
    </div>

    <!-- Bottom Section -->
    <div class="sidebar-bottom">
      <ul class="sidebar-menu">
        <li><span class="icon"><i data-feather="zap"></i></span><span class="label">Suggest Idea</span></li>
        <li><span class="icon"><i data-feather="settings"></i></span><span class="label">Settings</span></li>
        <li><span class="icon"><i data-feather="help-circle"></i></span><span class="label">Help</span></li>
        <li><span class="icon"><i data-feather="log-out"></i></span><span class="label">Sign Out</span></li>
      </ul>

      <a href="/profile" class="sidebar-profile">
        <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Profile" />
        <div class="profile-info">
          <span class="name">Brooklyn Simmons</span>
          <span class="email">brooklyn@simmons.com</span>
        </div>
      </a>
    </div>
  </div>

  <!-- Main content -->
  <div class="main-content">
     <div class="container">
    <a href="interview.html" class="back-btn">← Back</a>

    <div class="header">
      <div class="candidate">
        <h2 id="candidateName">John Doe</h2>
        <div class="field">
          <label>Email</label>
          <p id="candidateEmail">john123@gmail.com</p>
        </div>
        <div class="field">
          <label>Phone</label>
          <p id="candidatePhone">0123456789</p>
        </div>
      </div>

      <div class="ai-review">
        <h3>AI Review</h3>
        <p><strong>AI Rating:</strong> <span id="aiRating">Good</span></p>
        <p><strong>AI Feedback:</strong></p>
        <p id="aiFeedback">We power dance event and education tricks and connect them to consumers with our specialized software...</p>
      </div>
    </div>

    <!-- Job Details -->
    <div class="section">
      <h3>Job Details</h3>
      <div class="field">
        <label>Job Title</label>
        <p id="jobTitle">Frontend Developer</p>
      </div>
      <div class="field">
        <label>Job Description</label>
        <p id="jobDescription">
          Danceplace Digital is the leading technology platform for the dance industry. We power dance event and education tricks...
        </p>
      </div>
    </div>

    <!-- Q&A -->
    <div class="section">
      <h3>Interview QAs</h3>
      <div class="qa">
        <div class="question">How are you?</div>
        <div class="answer">I am fine, thank you. Excited to be here!</div>
      </div>
      <div class="qa">
        <div class="question">Why should we hire you?</div>
        <div class="answer">Because I bring creativity, technical skills, and collaboration experience...</div>
      </div>
      <div class="qa">
        <div class="question">What is your strength?</div>
        <div class="answer">Problem solving and UI/UX design execution under tight deadlines.</div>
      </div>
    </div>
  </div>
  </div>
  



  <script>
    
    feather.replace();

    const sidebar = document.querySelector('.sidebar');
    const toggleBtn = document.getElementById('toggleSidebar');
    const mobileToggleBtn = document.getElementById('mobileToggle');
    const mainContent = document.querySelector('.main-content');

    // Desktop collapse
    toggleBtn.addEventListener('click', () => {
      sidebar.classList.toggle('collapsed');
      mainContent.classList.toggle('expanded');
      feather.replace();
    });

    // Mobile toggle
    mobileToggleBtn.addEventListener('click', () => {
      sidebar.classList.toggle('active');
    });

    // Read More toggle
   // Read More toggle
document.querySelectorAll(".read-more").forEach(link => {
  link.addEventListener("click", function(e) {
    e.preventDefault();
    const summary = this.parentElement;

    if (summary.classList.contains("expanded")) {
      // Collapse back to short version
      summary.innerHTML = summary.getAttribute("data-short") + 
        ' <a href="#" class="read-more">Read More</a>';
      summary.classList.remove("expanded");
    } else {
      // Save short version
      summary.setAttribute("data-short", summary.innerHTML.replace(/<a.*<\/a>/, ""));
      // Expanded full description (you can add longer content here)
      summary.innerHTML = `
        Full description: Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
        Curabitur vel orci sed sapien faucibus placerat. 
        Vivamus vel ligula nec leo faucibus tincidunt. 
        Donec vitae nibh id magna vulputate aliquet.
        <br><br>
        Skills Required: UI/UX Design, Wireframing, Prototyping, Figma, User Research.
        <br>
        Responsibilities: Collaborate with product managers, create user flows, conduct usability testing.
        <a href="#" class="read-more">Show Less</a>
      `;
      summary.classList.add("expanded");
    }

    feather.replace();
    document.querySelectorAll(".read-more").forEach(l => 
      l.addEventListener("click", arguments.callee)
    );
  });
});


// Delete button functionality
document.querySelectorAll(".btn.delete").forEach(btn => {
  btn.addEventListener("click", function () {
    const row = this.closest(".table-row"); // find the row of the clicked delete button
    if (confirm("Are you sure you want to delete this job profile?")) {
      row.remove(); // remove the entire row
    }
  });
});



const modal = document.getElementById("jobProfileModal");
const addBtn = document.querySelector(".add-profile-btn");
const cancelBtn = document.getElementById("cancelModal");
const form = document.getElementById("jobProfileForm");
const tableContainer = document.querySelector(".table-container");

let editMode = false;
let currentRow = null;



// Open modal for Add
addBtn.addEventListener("click", () => {
  editMode = false;
  currentRow = null;
  form.reset();
  modal.style.display = "flex";
});

// Cancel modal
cancelBtn.addEventListener("click", () => {
  modal.style.display = "none";
});
// Handle form submission
form.addEventListener("submit", function (e) {
  e.preventDefault(); // prevent page refresh

  const jobTitle = document.getElementById("jobTitle").value.trim();
  const jobDescText = document.getElementById("jobDescText").value.trim();
  const jobDescFile = document.getElementById("jobDescFile").files[0]?.name || "";

  if (!jobTitle) {
    alert("Please enter a job title");
    return;
  }

  // Create new table row
  const newRow = document.createElement("div");
  newRow.classList.add("table-row");

  newRow.innerHTML = `
    <div class="col profile-col">
      <strong>${jobTitle}</strong>
      <p class="summary">
        ${jobDescText || "No description provided."}
        ${jobDescFile ? `<br>File: ${jobDescFile}` : ""}
        <a href="#" class="read-more">Read More</a>
      </p>
    </div>
    <div class="col drives-col">
      <a href="jobdrive.html?profile=${encodeURIComponent(jobTitle)}" class="btn view">
        <i data-feather="eye"></i> View Drive
      </a>
    </div>
    <div class="col actions-col">
      <button class="btn edit"><i data-feather="edit-2"></i></button>
      <button class="btn delete"><i data-feather="trash-2"></i></button>
    </div>
  `;

  tableContainer.appendChild(newRow);

  // Reattach Feather icons
  feather.replace();

  // Reattach Read More functionality
  newRow.querySelector(".read-more").addEventListener("click", function(e) {
    e.preventDefault();
    const summary = this.parentElement;

    if (summary.classList.contains("expanded")) {
      summary.innerHTML = summary.getAttribute("data-short") + 
        ' <a href="#" class="read-more">Read More</a>';
      summary.classList.remove("expanded");
    } else {
      summary.setAttribute("data-short", summary.innerHTML.replace(/<a.*<\/a>/, ""));
      summary.innerHTML = `
        Full description: ${jobDescText || "No description provided."}
        ${jobDescFile ? `<br>File: ${jobDescFile}` : ""}
        <a href="#" class="read-more">Show Less</a>
      `;
      summary.classList.add("expanded");
    }

    // Reattach listener
    summary.querySelector(".read-more").addEventListener("click", arguments.callee);
  });

  // Delete functionality for the new row
  newRow.querySelector(".btn.delete").addEventListener("click", function () {
    if (confirm("Are you sure you want to delete this job profile?")) {
      newRow.remove();
    }
  });

  // Close modal
  modal.style.display = "none";
  form.reset();

  modal.style.display = "none";
form.reset();
showFeedbackModal(); // <-- SHOW SUCCESS MODAL

});




  </script>
</body>
</html>
