<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Job Profiles</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet"/>
  <script src="https://unpkg.com/feather-icons"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: "Inter", sans-serif; }
    body { background: #f5f6f7; display: flex; min-height: 100vh; }

    /* === SIDEBAR === */
    .sidebar {
      position: fixed; left: 0; top: 0;
      width: 272px; height: 100vh;
      background: #111827; display: flex; flex-direction: column;
      justify-content: space-between; padding: 0 0 24px 0;
      box-sizing: border-box; transition: width 0.3s ease, left 0.3s ease; z-index: 1000;
    }
/* COLLAPSED SIDEBAR */
.sidebar.collapsed .sidebar-logo .logo-img {
  display: none; /* Hide logo */
}

.sidebar.collapsed .sidebar-menu li span.label {
  display: none; /* Hide menu names */
}

.sidebar.collapsed .sidebar-profile {
  display: none; /* Hide profile section entirely */
}
/* When sidebar is collapsed */
.sidebar.collapsed .sidebar-menu li {
  justify-content: center;   /* Center icons horizontally */
  padding: 12px 0;           /* Equal padding top/bottom, no left padding */
  gap: 0;                    /* Remove gap between icon and label (label hidden anyway) */
}

.sidebar.collapsed .back-icon {
  justify-content: center;   /* Center toggle icon */
  margin-left: 24px;
}

    .sidebar.collapsed { width: 72px; }
    .sidebar-logo { width: 100%; display: flex; justify-content: space-between; align-items: center; padding: 32px 0 16px; margin: 8px 0; }
    .logo-img { width: 140px; margin-left: 32px; }
    .back-icon { margin-right: 24px; color: #fff; cursor: pointer; display: flex; align-items: center; justify-content: center; }
    .icon-left { display: inline; } 
    .icon-right { display: none; }
    .sidebar.collapsed .logo-img { display: none; }
    .sidebar.collapsed .icon-left { display: none; }
    .sidebar.collapsed .icon-right { display: inline; }

    .sidebar-menu { list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; }
    .sidebar-menu li {
      display: flex; align-items: center; padding: 14px 0 12px 32px;
      font-size: 16px; font-weight: 600; cursor: pointer; gap: 12px; border-radius: 12px; transition: all 0.2s ease;
    }
    .sidebar-menu li .icon { color: #fff; display: flex; align-items: center; justify-content: center; min-width: 22px; }
    .sidebar-menu li .label { color: #9E9E9E; white-space: nowrap; }
    .sidebar-menu li:hover { background: rgba(73,200,251,0.12); padding-left: 24px; margin: 4px 16px; gap: 8px; }
    .sidebar-menu li:hover .label, .sidebar-menu li.active .label { color: #38bdf8; }
    .sidebar-menu li:hover .icon, .sidebar-menu li.active .icon { color: #38bdf8; }

    .sidebar-bottom { margin-top: auto; }
    .sidebar-profile {
      display: flex; align-items: center; background: #1e293b; border-radius: 12px;
      padding: 16px 20px; margin: 24px 16px 0; gap: 16px; text-decoration: none; color: inherit;
      transition: background 0.3s ease;
    }
    .sidebar-profile:hover { background: rgba(73,200,251,0.12); }
    .sidebar-profile img { width: 48px; height: 48px; border-radius: 50%; object-fit: cover; }
    .profile-info { display: flex; flex-direction: column; }
    .profile-info .name { color: #fff; font-size: 13px; font-weight: 600; }
    .profile-info .email { color: #808080; font-size: 12px; font-weight: 500; }

    /* === MAIN CONTENT === */
    .main-content { flex: 1; margin-left: 272px; padding: 20px; transition: margin-left 0.3s ease; }
    .main-content.expanded { margin-left: 72px; }
    .content-card { background: #fff; padding: 20px; border-radius: 12px; box-shadow: 0 2px 6px rgba(0,0,0,0.05); }
    .top-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; gap: 12px; flex-wrap: wrap; }
    .search-input { flex: 1; padding: 14px 16px; border: 1px solid #D1D5DB; border-radius: 12px; background-color: #F8F9FB; font-size: 16px;}
    .add-profile-btn { background: #38bdf8; color: white; border: none; padding: 14px 20px; border-radius: 12px; cursor: pointer; font-size: 16px; }
    .table-container { display: flex; flex-direction: column; gap: 12px; }
    .table-header, .table-row { display: flex; align-items: center; padding: 12px; border-radius: 8px; }
    .table-header { background: #f1f5f9; font-weight: 600; }
    .table-row { background: #fff; border: 1px solid #e5e7eb; flex-wrap: wrap; }
    .col { padding: 6px 8px; }
    .profile-col { flex: 3; }
    .drives-col { flex: 1.5; display: flex; align-items: center; justify-content: flex-start; }
    .actions-col { flex: 1.5; display: flex; align-items: center; justify-content: flex-start; gap: 8px; flex-wrap: wrap; }
    .btn { border: none; padding: 8px 12px; border-radius: 6px; font-size: 14px; cursor: pointer; display: flex; align-items: center; gap: 6px; }
    .btn.view { background: #38bdf8; color: white;}
    .btn.edit { background: rgba(73, 200, 251, 0.16); color: #38bdf8 }
    .btn.delete { background: rgba(251, 73, 76, 0.16); color: #FB494C; }
    .summary { font-size: 14px; color: #555; margin-top: 6px; }
    .summary a { color: #2563eb; cursor: pointer; display: inline-block; margin-top: 6px; }
.add-profile-btn {
  background: #38bdf8;
  color: white;
  border: none;
  padding: 14px 20px;
  font-size: 16px;
  border-radius: 12px;
  cursor: pointer;

  /* Fix alignment */
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;   /* space between icon and text */
}
.btn {
  border: none;
  padding: 10px 16px;      /* 16px vertical, 10px horizontal */
  border-radius: 8px;
  font-size: 16px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;                /* spacing between icon and text */
}

/* Smaller icons inside buttons */
.btn i {
  width: 16px;   /* a bit smaller */
  height: 16px;
}
/* Modal styles */
.modal {
  display: none;
  position: fixed; inset: 0;
  background: rgba(0,0,0,0.5);
  justify-content: center; align-items: center;
  z-index: 2000;
}

.modal-content h2 {
  margin-bottom: 16px;
  font-size: 20px;
  color: #111827;
}

.form-group {
  margin-bottom: 16px;
  display: flex;
  flex-direction: column;
}

.form-group label {
  font-weight: 600;
  margin-bottom: 6px;
  font-size: 14px;
  color: #374151;
}

.form-group input,
.form-group textarea {
  padding: 10px 12px;
  border: 1px solid #D1D5DB;
  border-radius: 8px;
  font-size: 14px;
}

.form-actions {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
}

.btn.save {
  background: #38bdf8;
  color: white;
}

.btn.cancel {
  background: #e5e7eb;
  color: #111827;
}
.modal-content { 
  background: #fff; 
  padding: 20px 20px;
  border-radius: 24px; 
  width: 800px;
   min-height: 20px; 
   max-width: 95vw; 
   box-shadow: 0 8px 32px rgba(0,0,0,0.22); 
   font-size: 18px; 
   display: flex; 
   flex-direction: column; 
   justify-content: center; } 
   .modal-content h2 { margin-bottom: 40px; font-size: 20px; } 
   .form-group label { font-size: 18px; } 
   .form-group input, .form-group textarea 
   { font-size: 20px; padding: 16px 18px; } 
   .form-actions { gap: 16px; margin-top: 36px; } /* Make input fields and textarea big inside the modal */ 
   .modal-content input, .modal-content textarea { font-size: 18px; padding: 28px 22px; border-radius: 12px; min-height: 56px; } 
   .modal-content textarea { min-height: 90px; resize: vertical; } /* Make modal form buttons big */ 
   .modal-content .btn { font-size: 20px; padding: 16px 32px; border-radius: 12px; } /* Make the description textarea much taller in the modal */
   .modal-content textarea#jobDescText { min-height: 220px; font-size: 16px; padding: 18px 18px; border-radius: 12px; resize: vertical; } /* Make the Job Title input and File Upload input less tall in the modal */
   .modal-content input#jobTitle, .modal-content input#jobDescFile { min-height: 64px; padding: 18px 18px; font-size: 16px;}


    /* === MOBILE === */
    .mobile-toggle-btn {
      position: fixed; top: 16px; left: 16px; background: #111827; border: none;
      color: white; padding: 8px; border-radius: 6px; z-index: 11000; cursor: pointer;
      display: none;
    }
    @media (max-width: 768px) {
      .mobile-toggle-btn { display: block; }
      .sidebar { left: -272px; }
      .sidebar.active { left: 0; }
      .main-content { margin-left: 0; padding: 80px 16px 20px; }
      .table-header { display: none; }
      .table-row { flex-direction: column; align-items: flex-start; padding: 16px; gap: 12px; }
      .profile-col, .drives-col, .actions-col { flex: unset; width: 100%; }

  .drives-col, .actions-col {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    width: auto;
    margin-right: 8px;
    margin-bottom: 0;
  }
  .mobile-actions-row {
    display: flex;
    flex-direction: row;
    gap: 8px;
    width: 100%;
    margin-top: 8px;
  }

}
@media (max-width: 768px) {
       .logo-img { margin-left: 66px; margin-top: -26px;}
       .sidebar-menu{
        padding-top: 0px;
        margin-top: -12px;
       }
      .mobile-toggle-btn { display: block; }
      .back-icon { display: none; } /* Hide collapse icon on mobile */
      .sidebar { left: -272px; }
      .sidebar.active { left: 0; }
      .main-content { margin-left: 0; padding: 80px 16px 20px; }
      .table-header { display: none; }
      .table-row { flex-direction: column; align-items: flex-start; padding: 16px; gap: 12px; }
      .sidebar-profile{
        margin-bottom: 60px;
      }
      .profile-col, .drives-col, .actions-col { flex: unset; width: 100%; }
    }
@media (max-width: 768px) {
  .table-row {
    flex-direction: row;
    align-items: flex-start;
    padding: 16px;
    gap: 12px;
  }
  .btn.view, .btn.edit, .btn.delete {
  align-items: center;
  justify-content: center;
  display: flex;
  flex-wrap: wrap;
}
  .profile-col { width: 100%; }

  /* Place drives and actions in a flex row together */
  .drives-actions-wrapper {
    display: flex;
    flex-direction: row;
    gap: 12px;
    width: 100%;
    margin-top: 8px;
  }
  .drives-col, .actions-col {
    width: auto;
    margin: 0;
    display: flex;
    align-items: center;
    gap: 8px;
  }
}
.actions-all {
  display: flex;
  flex-direction: row;
  gap: 8px;
  align-items: center;
  flex-wrap: wrap;   /* keeps them responsive on smaller screens */
}
.drives-col,
.actions-col {
  display: flex;
  flex-direction: row;
  gap: 8px;
  align-items: center;
  flex-wrap: wrap;  /* makes them responsive on small screens */
}
/* Modal responsive */
@media (max-width: 768px) {
  .modal-content {
    width: 95%;        /* almost full width on mobile */
    padding: 20px 16px;
    border-radius: 16px;
  }

  .modal-content h2 {
    font-size: 18px;
    margin-bottom: 20px;
    text-align: center;
  }

  .form-group label {
    font-size: 16px;
  }

  .modal-content input,
  .modal-content textarea {
    font-size: 16px;
    padding: 12px 14px;
    min-height: 48px;
  }

  .modal-content textarea#jobDescText {
    min-height: 140px; /* smaller than desktop */
  }

  .form-actions {
    flex-direction: column;
    gap: 12px;
    margin-top: 20px;
  }

  .form-actions .btn {
    width: 100%;
    text-align: center;
    font-size: 16px;
    padding: 12px 0;
  }
}
/* Modal & table buttons responsive */
@media (max-width: 768px) {
  /* Modal buttons */
  .modal-content .btn {
    width: 100%;           /* full width */
    padding: 14px 0;       /* taller for easier tapping */
    font-size: 16px;       /* slightly smaller than desktop */
  }
/* Responsive modal buttons for mobile */
  .form-actions {
    flex-direction: column; /* stack buttons vertically */
    gap: 12px;
    margin-top: 20px;
  }

  .form-actions .btn {
    width: 100%;           /* full width for easier tapping */
    padding: 14px 0;       /* taller buttons */
    font-size: 16px;       /* readable on mobile */
    border-radius: 12px;   /* consistent with desktop style */
    justify-content: center;
  }


  /* Table buttons */
  .btn.view, .btn.edit, .btn.delete {
    padding: 10px 12px;    /* smaller on mobile */
    font-size: 14px;
    flex: 1;                /* make them stretch to container width if needed */
    justify-content: center;
  }

  /* Adjust Add Job Profile top bar button */
  .add-profile-btn {
    padding: 12px 16px;
    font-size: 14px;
  }
}
a.btn.view {
  text-decoration: none; /* removes underline */
  color: white;           /* keep button text color */
  display: flex;           /* keep icon + text layout */
  align-items: center;
  gap: 8px;               /* space between icon and text */
}




  </style>
</head>
<body>

  <!-- Mobile Sidebar Toggle -->
  <button id="mobileToggle" class="mobile-toggle-btn"><i data-feather="menu"></i></button>

  <div class="sidebar">
    <!-- Top Section -->
    <div>
      <div class="sidebar-logo">
        <img src="logo1.png" alt="Jobdrive Logo" class="logo-img" />
        <span id="toggleSidebar" class="back-icon">
          <i data-feather="chevron-left" class="icon-left"></i>
          <i data-feather="chevron-right" class="icon-right"></i>
        </span>
      </div>

     <ul class="sidebar-menu">
  <li>
    <a href="dashboard.html" style="display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit;">
      <span class="icon"><i data-feather="home"></i></span>
      <span class="label">Dashboard</span>
    </a>
  </li>
  <li>
    <a href="interviews.html" style="display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit;">
      <span class="icon"><i data-feather="phone"></i></span>
      <span class="label">Interviews</span>
    </a>
  </li>
  <li>
    <a href="jobdrive.html" style="display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit;">
      <span class="icon"><i data-feather="layers"></i></span>
      <span class="label">Job Drives</span>
    </a>
  </li>
  <li class="active">
    <a href="jobprofile.html" style="display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit;">
      <span class="icon"><i data-feather="user"></i></span>
      <span class="label">Job Profiles</span>
    </a>
  </li>
</ul>
    </div>

    <!-- Bottom Section -->
    <div class="sidebar-bottom">
      <ul class="sidebar-menu">
        <li><span class="icon"><i data-feather="zap"></i></span><span class="label">Suggest Idea</span></li>
        <li><span class="icon"><i data-feather="settings"></i></span><span class="label">Settings</span></li>
        <li><span class="icon"><i data-feather="help-circle"></i></span><span class="label">Help</span></li>
        <li><span class="icon"><i data-feather="log-out"></i></span><span class="label">Sign Out</span></li>
      </ul>

      <a href="/profile" class="sidebar-profile">
        <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Profile" />
        <div class="profile-info">
          <span class="name">Brooklyn Simmons</span>
          <span class="email">brooklyn@simmons.com</span>
        </div>
      </a>
    </div>
  </div>

  <!-- Main content -->
  <div class="main-content">
    <div class="content-card">
      <div class="top-bar">
        <input type="text" class="search-input" placeholder="Search" />
       <button class="add-profile-btn" id="openFormBtn">
  <i data-feather="plus"></i> Job Profile
</button>
<div id="jobProfileModal" class="modal">
  <div class="modal-content">
    <h2>Add Job Profile</h2>
    <form id="jobProfileForm">
      <div class="form-group">
        <label for="jobTitle">Job Title</label>
        <input type="text" id="jobTitle" name="jobTitle" placeholder="Enter job title" required>
      </div>
      <div class="form-group">
        <label for="jobDescText">Job Description (Text)</label>
        <textarea id="jobDescText" name="jobDescText" rows="4" placeholder="Enter description"></textarea>
      </div>
      <div class="form-group">
        <label for="jobDescFile">Job Description (File Upload)</label>
        <input type="file" id="jobDescFile" name="jobDescFile" />
      </div>
      <div class="form-actions">
        <button type="button" id="cancelModal" class="btn cancel">Cancel</button>
        <button type="submit" class="btn save">Save</button>
      </div>
    </form>
  </div>
</div>

      </div>

      <div class="table-container">
        <div class="table-header">
          <div class="col profile-col">JOB PROFILE</div>
          <div class="col drives-col">DRIVES</div>
          <div class="col actions-col">ACTIONS</div>
        </div>

      <div class="table-row">
  <div class="col profile-col">
    <strong>UI/UX Designer</strong>
    <p class="summary">
      Summary: Collect, clean, and analyze data to provide actionable insights...
      <a href="#" class="read-more">Read More</a>
    </p>
  </div>
  <div class="col drives-col">
    <a href="dashboard.html" class="btn view">
  <i data-feather="eye"></i> View Drive
</a>

  </div>
  <div class="col actions-col">
    <button class="btn edit"><i data-feather="edit-2"></i></button>
    <button class="btn delete"><i data-feather="trash-2"></i></button>
  </div>
</div>


      <div class="table-row">
    <div class="col profile-col">
      <strong>Data Analyst</strong>
      <p class="summary">
        Summary: Analyze datasets, create dashboards, and support business decisions...
        <a href="#" class="read-more">Read More</a>
      </p>
    </div>
    <div class="col drives-col">
      <button class="btn view"><i data-feather="eye"></i> View Drive</button>
    </div>
    <div class="col actions-col">
      <button class="btn edit"><i data-feather="edit-2"></i></button>
      <button class="btn delete"><i data-feather="trash-2"></i></button>
    </div>
  </div>
</div>


    </div>
  </div>
  

  <script>
    feather.replace();

    const sidebar = document.querySelector('.sidebar');
    const toggleBtn = document.getElementById('toggleSidebar');
    const mobileToggleBtn = document.getElementById('mobileToggle');
    const mainContent = document.querySelector('.main-content');

    // Desktop collapse
    toggleBtn.addEventListener('click', () => {
      sidebar.classList.toggle('collapsed');
      mainContent.classList.toggle('expanded');
      feather.replace();
    });

    // Mobile toggle
    mobileToggleBtn.addEventListener('click', () => {
      sidebar.classList.toggle('active');
    });

    // Read More toggle
   // Read More toggle
document.querySelectorAll(".read-more").forEach(link => {
  link.addEventListener("click", function(e) {
    e.preventDefault();
    const summary = this.parentElement;

    if (summary.classList.contains("expanded")) {
      // Collapse back to short version
      summary.innerHTML = summary.getAttribute("data-short") + 
        ' <a href="#" class="read-more">Read More</a>';
      summary.classList.remove("expanded");
    } else {
      // Save short version
      summary.setAttribute("data-short", summary.innerHTML.replace(/<a.*<\/a>/, ""));
      // Expanded full description (you can add longer content here)
      summary.innerHTML = `
        Full description: Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
        Curabitur vel orci sed sapien faucibus placerat. 
        Vivamus vel ligula nec leo faucibus tincidunt. 
        Donec vitae nibh id magna vulputate aliquet.
        <br><br>
        Skills Required: UI/UX Design, Wireframing, Prototyping, Figma, User Research.
        <br>
        Responsibilities: Collaborate with product managers, create user flows, conduct usability testing.
        <a href="#" class="read-more">Show Less</a>
      `;
      summary.classList.add("expanded");
    }

    feather.replace();
    document.querySelectorAll(".read-more").forEach(l => 
      l.addEventListener("click", arguments.callee)
    );
  });
});
// Delete button functionality
document.querySelectorAll(".btn.delete").forEach(btn => {
  btn.addEventListener("click", function () {
    const row = this.closest(".table-row"); // find the row of the clicked delete button
    if (confirm("Are you sure you want to delete this job profile?")) {
      row.remove(); // remove the entire row
    }
  });
});
const modal = document.getElementById("jobProfileModal");
const addBtn = document.querySelector(".add-profile-btn");
const cancelBtn = document.getElementById("cancelModal");
const form = document.getElementById("jobProfileForm");
const tableContainer = document.querySelector(".table-container");

let editMode = false;
let currentRow = null;

// Open modal for Add
addBtn.addEventListener("click", () => {
  editMode = false;
  currentRow = null;
  form.reset();
  modal.style.display = "flex";
});

// Cancel modal
cancelBtn.addEventListener("click", () => {
  modal.style.display = "none";
});

// Save (Add or Edit)
form.addEventListener("submit", function(e) {
  e.preventDefault();

  const title = document.getElementById("jobTitle").value;
  const desc = document.getElementById("jobDescText").value;

  if (editMode && currentRow) {
    // --- EDIT EXISTING ROW ---
    currentRow.querySelector(".profile-col strong").textContent = title;
    currentRow.querySelector(".profile-col .summary").innerHTML = `
      Summary: ${desc || "No description provided"}...
      <a href="#" class="read-more">Read More</a>
    `;
  } else {
    // --- ADD NEW ROW ---
   // ...existing code...
newRow.innerHTML = `
  <div class="col profile-col">
    <strong>${title}</strong>
    <p class="summary">
      Summary: ${desc || "No description provided"}...
      <a href="#" class="read-more">Read More</a>
    </p>
  </div>
  <div class="col drives-col">
    <button class="btn view"><i data-feather="eye"></i> View Drive</button>
  </div>
  <div class="col actions-col">
    <button class="btn edit"><i data-feather="edit-2"></i> Edit</button>
    <button class="btn delete"><i data-feather="trash-2"></i> Delete</button>
  </div>
`;

tableContainer.appendChild(newRow);
attachRowEvents(newRow);
tableContainer.appendChild(newRow);
attachRowEvents(newRow);
// ...existing code...
  }

  modal.style.display = "none";
  form.reset();
  feather.replace();
});

// Attach Delete & Edit functionality
function attachRowEvents(row) {
  // Delete
  row.querySelector(".btn.delete").addEventListener("click", function () {
    if (confirm("Are you sure you want to delete this job profile?")) {
      row.remove();
    }
  });

  // Edit
  row.querySelector(".btn.edit").addEventListener("click", function () {
    editMode = true;
    currentRow = row;
    const title = row.querySelector(".profile-col strong").textContent;
    const desc = row.querySelector(".summary").textContent
                  .replace("Summary:", "")
                  .replace("...Read More", "")
                  .trim();

    document.getElementById("jobTitle").value = title;
    document.getElementById("jobDescText").value = desc;

    modal.style.display = "flex";
  });
}

// Attach events to existing rows
document.querySelectorAll(".table-row").forEach(row => attachRowEvents(row));


  </script>
</body>
</html>
