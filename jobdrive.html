<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Job Drives</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet"/>
  <script src="https://unpkg.com/feather-icons"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: "Inter", sans-serif; }
    body { background: #f5f6f7; display: flex; min-height: 100vh; }

 .sidebar {
      position: fixed; left: 0; top: 0;
      width: 272px; height: 100vh;
      background: #111827; display: flex; flex-direction: column;
      justify-content: space-between; padding: 0 0 24px 0;
      box-sizing: border-box; transition: width 0.3s ease, left 0.3s ease; z-index: 1000;
    }
     .mobile-toggle-btn {
      position: fixed; top: 16px; left: 16px; background: #111827; border: none;
      color: white; padding: 8px; border-radius: 6px; z-index: 11000; cursor: pointer;
      display: none;
    }
   
/* COLLAPSED SIDEBAR */
.sidebar.collapsed .sidebar-logo .logo-img {
  display: none; /* Hide logo */
}

.sidebar.collapsed .sidebar-menu li span.label {
  display: none; /* Hide menu names */
}

.sidebar.collapsed .sidebar-profile {
  display: none; /* Hide profile section entirely */
}
/* When sidebar is collapsed */
.sidebar.collapsed .sidebar-menu li {
  justify-content: center;   /* Center icons horizontally */
  padding: 12px 0;           /* Equal padding top/bottom, no left padding */
  gap: 0;                    /* Remove gap between icon and label (label hidden anyway) */
}

.sidebar.collapsed .back-icon {
  justify-content: center;   /* Center toggle icon */
  margin-left: 24px;
}

    .sidebar.collapsed { width: 72px; }
    .sidebar-logo { width: 100%; display: flex; justify-content: space-between; align-items: center; padding: 32px 0 16px; margin: 8px 0; }
    .logo-img { width: 140px; margin-left: 32px; }
    .back-icon { margin-right: 24px; color: #fff; cursor: pointer; display: flex; align-items: center; justify-content: center; }
    .icon-left { display: inline; } 
    .icon-right { display: none; }
    .sidebar.collapsed .logo-img { display: none; }
    .sidebar.collapsed .icon-left { display: none; }
    .sidebar.collapsed .icon-right { display: inline; }

    .sidebar-menu { list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; }
    .sidebar-menu li {
      display: flex; align-items: center; padding: 14px 0 12px 32px;
      font-size: 16px; font-weight: 600; cursor: pointer; gap: 12px; border-radius: 12px; transition: all 0.2s ease;
    }
    .sidebar-menu li .icon { color: #fff; display: flex; align-items: center; justify-content: center; min-width: 22px; }
    .sidebar-menu li .label { color: #9E9E9E; white-space: nowrap; }
    .sidebar-menu li:hover { background: rgba(73,200,251,0.12); padding-left: 24px; margin: 4px 16px; gap: 8px; }
    .sidebar-menu li:hover .label, .sidebar-menu li.active .label { color: #38bdf8; }
    .sidebar-menu li:hover .icon, .sidebar-menu li.active .icon { color: #38bdf8; }

    .sidebar-bottom { margin-top: auto; }
    .sidebar-profile {
      display: flex; align-items: center; background: #1e293b; border-radius: 12px;
      padding: 16px 20px; margin: 24px 16px 0; gap: 16px; text-decoration: none; color: inherit;
      transition: background 0.3s ease;
    }
    .sidebar-profile:hover { background: rgba(73,200,251,0.12); }
    .sidebar-profile img { width: 48px; height: 48px; border-radius: 50%; object-fit: cover; }
    .profile-info { display: flex; flex-direction: column; }
    .profile-info .name { color: #fff; font-size: 13px; font-weight: 600; }
    .profile-info .email { color: #808080; font-size: 12px; font-weight: 500; }

    /* === MAIN CONTENT === */
     .top-bar { 
  display: flex; 
  justify-content: space-between; 
  align-items: center; 
  margin-bottom: 20px; 
  gap: 12px; 
  flex-wrap: wrap; 
}

.search-input { 
  flex: 1; 
  padding: 14px 16px; 
  border: 1px solid #D1D5DB; 
  border-radius: 12px; 
  background-color: #F8F9FB; 
  font-size: 16px;
}

.add-profile-btn { 
  display: flex; 
  align-items: center; 
  gap: 8px; /* space between icon and text */ 
  background: #38bdf8; 
  color: white; 
  border: none; 
  padding: 14px 20px; 
  border-radius: 12px; 
  cursor: pointer; 
  font-size: 16px; 
}

    .main-content { flex: 1; margin-left: 272px; padding: 20px; transition: margin-left 0.3s ease; }
    .main-content.expanded { margin-left: 72px; }
    .content-card { background: #fff; padding: 20px; border-radius: 12px; box-shadow: 0 2px 6px rgba(0,0,0,0.05); }
    .table-container { display: flex; flex-direction: column; gap: 12px; }
    .table-header, .table-row { display: flex; align-items: center; padding: 12px; border-radius: 8px; }
    .table-header { background: #f1f5f9; font-weight: 600; }
    .table-row { background: #fff; border: 1px solid #e5e7eb; flex-wrap: wrap; }
    .col { padding: 12px 8px; }
    .drive-col { flex: 1.5; }
    .title-col { flex: 2; }
    .desc-col { flex: 3; }
    .interviews-col, .resumes-col { flex: 1.5; display: flex; align-items: center; justify-content: flex-start; gap: 12px; }
    .btn { border: none; padding: 10px 24px; border-radius: 10px; font-size: 16px; cursor: pointer; display: flex; align-items: center; gap: 8px; background: #38bdf8; color: #fff; font-weight: 600;}
    .btn i { width: 18px; height: 18px; }
    @media (max-width: 900px) {
      .main-content { margin-left: 0; padding: 80px 8px 20px; }
      .table-header { display: none; }
      .table-row { flex-direction: column; align-items: flex-start; padding: 16px; gap: 12px; }
      .col { width: 100%; }
      .interviews-col, .resumes-col { width: 100%; justify-content: flex-start; }
    }
     @media (max-width: 768px) {
       .logo-img { margin-left: 66px; margin-top: -26px;}
       .sidebar-menu{
        padding-top: 0px;
        margin-top: -12px;
       }
      .mobile-toggle-btn { display: block; }
      .back-icon { display: none; } /* Hide collapse icon on mobile */
      .sidebar { left: -272px; }
      .sidebar.active { left: 0; }
      .main-content { margin-left: 0; padding: 80px 16px 20px; }
      .table-header { display: none; }
      .table-row { flex-direction: column; align-items: flex-start; padding: 16px; gap: 12px; }
      .sidebar-profile{
        margin-bottom: 60px;
      }
      .profile-col, .drives-col, .actions-col { flex: unset; width: 100%; }
    }
 /* Modal backdrop */
.modal {
  position: fixed;
  z-index: 2000;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow-y: auto;
  background-color: rgba(0,0,0,0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 16px; /* 2 x 8 */
}

/* Modal container */
.modal-content {
  
  background-color: #fff;
  padding: 32px;       /* 4 x 8 */
  border-radius: 16px; /* 2 x 8 */
  width: 100%;
  max-width: 560px;    /* multiple of 8 */
  box-shadow: 0 16px 32px rgba(0,0,0,0.2); /* depth using 8pt multiples */
  display: flex;
  flex-direction: column;
  gap: 24px;           /* 3 x 8 between fields */
}

/* Modal header */
.modal-content h2 {
  
  font-size: 24px;     /* multiple of 8 for consistency */
  font-weight: 700;
  color: #111827;
  margin-bottom: 0px; /* 2 x 8 */
}

/* Close button */
.close-btn {
  align-self: flex-end;
  font-size: 24px;     /* 3 x 8 */
  font-weight: 700;
  cursor: pointer;
  color: #111827;
  margin-bottom: 8px;  /* 1 x 8 */
}

/* Labels */
.modal-content label {
  font-weight: 600;
  font-size: 14px;
  color: #374151;
  margin-bottom: 8px; 
  margin-top: 16px; /* 1 x 8 */
  display: block;
}

/* Inputs & Selects */
.modal-content input,
.modal-content select {
  padding: 16px 16px;  /* vertical 12 (~1.5 x 8), horizontal 16 (2 x 8) */
  border: 1px solid #D1D5DB;
  border-radius: 8px;  /* 1 x 8 */
  font-size: 14px;
  width: 100%;
}

/* Upload buttons */
.modal-content .upload-btn {
  padding: 12px 16px;
  border-radius: 8px;
  background-color: #38bdf8;
  color: white;
  font-weight: 600;
  cursor: pointer;
  border: none;
}

/* Submit button */
.modal-content .submit-btn {
  margin-top: 16px;   /* 2 x 8 */
  padding: 12px 16px;
  border-radius: 8px;
  background-color: #10b981;
  color: #fff;
  font-weight: 700;
  font-size: 16px;
  cursor: pointer;
  border: none;
}

/* ===== Base Card Styles ===== */
.table-row, .job-card {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: #fff;
  border-radius: 12px;
  padding: 16px;
  margin-bottom: 15px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.08);
}

/* Profile & Drive Column */
.profile-col {
  flex: 2;
}
.drives-col {
  flex: 1;
  text-align: right;
}

/* Buttons */
.btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 10px 14px;
  border-radius: 10px;
  border: none;
  cursor: pointer;
  font-weight: 600;
}

.btn.view {
  background: #3dbff0;
  color: #fff;
}
.btn.edit {
  background: #e6f4ff;
  color: #007bff;
}
.btn.delete {
  background: #ffe6e6;
  color: #e74c3c;
}

/* ===== Responsive for Mobile ===== */
@media (max-width: 768px) {
  .table-row, .job-card {
    flex-direction: column;   /* Stack vertically */
    align-items: flex-start;
    padding: 20px;
  }

  .profile-col, .drives-col {
    flex: 100%;
    text-align: left;
    margin-bottom: 12px;
  }

  .drives-col {
    text-align: left;
  }

  /* Buttons full-width on mobile */
  .btn {
    width: 100%;
    justify-content: center;
    margin-bottom: 10px;
  }
}


    .btn.delete { background: rgba(251, 73, 76, 0.16); color: #FB494C; }
  </style>
</head>
<body>
  <!-- Mobile Sidebar Toggle -->
  <button id="mobileToggle" class="mobile-toggle-btn"><i data-feather="menu"></i></button>

  <div class="sidebar">
    <!-- Top Section -->
    <div>
      <div class="sidebar-logo">
        <img src="logo1.png" alt="Jobdrive Logo" class="logo-img" />
        <span id="toggleSidebar" class="back-icon">
          <i data-feather="chevron-left" class="icon-left"></i>
          <i data-feather="chevron-right" class="icon-right"></i>
        </span>
      </div>
      <ul class="sidebar-menu">
        <li>
          <a href="dashboard.html" style="display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit;">
            <span class="icon"><i data-feather="home"></i></span>
            <span class="label">Dashboard</span>
          </a>
        </li>
        <li>
          <a href="interviews.html" style="display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit;">
            <span class="icon"><i data-feather="phone"></i></span>
            <span class="label">Interviews</span>
          </a>
        </li>
        <li class="active">
          <a href="jobdrive.html" style="display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit;">
            <span class="icon"><i data-feather="layers"></i></span>
            <span class="label">Job Drives</span>
          </a>
        </li>
        <li>
          <a href="jobprofile.html" style="display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit;">
            <span class="icon"><i data-feather="user"></i></span>
            <span class="label">Job Profiles</span>
          </a>
        </li>
      </ul>
    </div>
    <!-- Bottom Section -->
    <div class="sidebar-bottom">
      <ul class="sidebar-menu">
        <li><span class="icon"><i data-feather="zap"></i></span><span class="label">Suggest Idea</span></li>
        <li><span class="icon"><i data-feather="settings"></i></span><span class="label">Settings</span></li>
        <li><span class="icon"><i data-feather="help-circle"></i></span><span class="label">Help</span></li>
        <li><span class="icon"><i data-feather="log-out"></i></span><span class="label">Sign Out</span></li>
      </ul>
      <a href="/profile" class="sidebar-profile">
        <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Profile" />
        <div class="profile-info">
          <span class="name">Brooklyn Simmons</span>
          <span class="email">brooklyn@simmons.com</span>
        </div>
      </a>
    </div>
  </div>

  <!-- Main content -->
  <div class="main-content">
    <div class="content-card">

      <div class="top-bar">
        <input type="text" class="search-input" placeholder="Search" />
       <button class="add-profile-btn" id="openFormBtn">
  <i data-feather="plus"></i> Job Drive
</button>
      </div>

      <div class="table-container">
        <div class="table-header">
          <div class="col drive-col">JOB DRIVE</div>
          <div class="col title-col">JOB TITLE</div>
          <div class="col desc-col">JOB DESCRIPTION</div>
          <div class="col interviews-col">INTERVIEWS</div>
          <div class="col resumes-col">RESUMES</div>
          <div class="col actions-col">ACTIONS</div>
        </div>

  <div class="table-row">
          <div class="col drive-col">March 2025</div>
          <div class="col title-col">Data Analyst</div>
          <div class="col desc-col">HTML + CSS + JS + React js ...</div>
          <div class="col interviews-col">
            <button class="btn" onclick="window.location.href='interview.html'"><i data-feather="eye"></i> Interviews</button>
          </div>
          <div class="col resumes-col">
            <button class="btn" onclick="window.location.href='resumes.html'">
  <i data-feather="eye"></i> Resumes
</button>

          </div>
          <div class="col actions-col">
    <button class="btn delete"><i data-feather="trash-2"></i></button>
                </div>
           </div>
   </div>
  <div class="table-row">
          <div class="col drive-col">March 2025</div>
          <div class="col title-col">UI/UX Designer</div>
          <div class="col desc-col">HTML + CSS + JS + React js ...</div>
          <div class="col interviews-col">
            <button class="btn"><i data-feather="eye"></i> Interviews</button>
          </div>
          <div class="col resumes-col">
           <button class="btn" onclick="window.location.href='resumes.html'">
  <i data-feather="eye"></i> Resumes
</button>

          </div>
          <div class="col actions-col">
    <button class="btn delete"><i data-feather="trash-2"></i></button>
                </div>
  </div>
          </div>
        </div>
      </div>
        
         
  <!-- Add Job Drive Modal -->
<div id="jobDriveModal" class="modal" style="display:none;">
  <div class="modal-content">
    <span class="close-btn">&times;</span>
    <h2>Add Job Drive</h2>
    <form id="jobDriveForm">
      <!-- Job Title Dropdown -->
      <label for="jobTitle">Job Title</label>
      <select id="jobTitle" name="jobTitle" required>
        <option value="">Select Job Title</option>
        <option value="frontend">Frontend Developer</option>
        <option value="backend">Backend Developer</option>
        <option value="fullstack">Fullstack Developer</option>
        <option value="designer">Designer</option>
      </select>

      <!-- Job Drive Name -->
      <label for="jobDriveName">Job Drive Name</label>
      <input type="text" id="jobDriveName" name="jobDriveName" placeholder="Enter Job Drive Name" required />

      <!-- Upload multiple resumes -->
      <label for="multipleResumes">Upload Resumes (multiple)</label>
      <input type="file" id="multipleResumes" name="multipleResumes" multiple />

      <!-- Upload single resume -->
      <label for="singleResume">Upload Resume (one)</label>
      <input type="file" id="singleResume" name="singleResume" />

      <button type="submit" class="add-profile-btn" style="margin-top:16px;">Submit</button>
    </form>
  </div>
</div>


  <script>

    feather.replace();
    feather.replace();

    

    const sidebar = document.querySelector('.sidebar');
    const toggleBtn = document.getElementById('toggleSidebar');
    const mobileToggleBtn = document.getElementById('mobileToggle');
    const mainContent = document.querySelector('.main-content');

    // Desktop collapse
    toggleBtn.addEventListener('click', () => {
      sidebar.classList.toggle('collapsed');
      mainContent.classList.toggle('expanded');
      feather.replace();
    });

    // Mobile toggle
    mobileToggleBtn.addEventListener('click', () => {
      sidebar.classList.toggle('active');
    });

   const openFormBtn = document.getElementById('openFormBtn');
const jobDriveModal = document.getElementById('jobDriveModal');
const closeBtn = document.querySelector('.close-btn');

// Open modal
openFormBtn.addEventListener('click', () => {
  jobDriveModal.style.display = 'flex';
});

// Close modal
closeBtn.addEventListener('click', () => {
  jobDriveModal.style.display = 'none';
});

// Close modal if clicked outside content
window.addEventListener('click', (e) => {
  if (e.target === jobDriveModal) {
    jobDriveModal.style.display = 'none';
  }
});

// Optional: handle form submission
document.getElementById('jobDriveForm').addEventListener('submit', (e) => {
  e.preventDefault();
  alert('Job Drive Added!');
  jobDriveModal.style.display = 'none';
  // Here you can also handle uploading files and saving data
});



document.addEventListener("DOMContentLoaded", function() {
  const urlParams = new URLSearchParams(window.location.search);
  const selectedProfile = urlParams.get("profile"); // e.g. "UI/UX Designer"

  // If no profile selected, just show everything
  if (!selectedProfile) return;

  // Update page title dynamically
  const pageTitle = document.getElementById("pageTitle");
  if (pageTitle) {
    pageTitle.innerText = "Job Drives for " + selectedProfile;
  }

  // Filter rows by job title column
  let matchFound = false;
  document.querySelectorAll(".table-row").forEach(row => {
    const jobTitle = row.querySelector(".title-col")?.innerText.trim();
    if (jobTitle === selectedProfile) {
      matchFound = true; // keep matching rows
      row.style.display = "";
    } else {
      row.style.display = "none"; // hide non-matching
    }
  });

  // If nothing matched, show all back (prevents disappearing issue)
  if (!matchFound) {
    document.querySelectorAll(".table-row").forEach(row => {
      row.style.display = "";
    });
    if (pageTitle) pageTitle.innerText = "Job Drives"; // reset title
  }
});




document.querySelectorAll('.btn.delete').forEach(btn => {
  btn.addEventListener('click', (e) => {
    // Get the closest row from the button itself
    const row = btn.closest('.table-row'); 
    if (row) {
      // Optional: confirmation before deleting
      const confirmDelete = confirm("Are you sure you want to delete this row?");
      if (confirmDelete) {
        row.remove();
      }
    }
  });
});


// Handle form submission
document.getElementById('jobDriveForm').addEventListener('submit', (e) => {
  e.preventDefault();

  // Get form values
  const jobTitle = document.getElementById('jobTitle').value;
  const jobDriveName = document.getElementById('jobDriveName').value;

  if (!jobTitle || !jobDriveName) {
    alert("Please fill all required fields!");
    return;
  }

  // Create new row
  const newRow = document.createElement('div');
  newRow.classList.add('table-row');
  newRow.innerHTML = `
    <div class="col drive-col">${jobDriveName}</div>
    <div class="col title-col">${jobTitle.charAt(0).toUpperCase() + jobTitle.slice(1)} Developer</div>
    <div class="col desc-col">Description not provided...</div>
    <div class="col interviews-col">
      <button class="btn"><i data-feather="eye"></i> Interviews</button>
    </div>
    <div class="col resumes-col">
      <button class="btn"><i data-feather="eye"></i> Resumes</button>
    </div>
    <div class="col actions-col">
      <button class="btn delete"><i data-feather="trash-2"></i></button>
    </div>
  `;

  // Append to list
  document.querySelector('.table-container').appendChild(newRow);

  // Reset form
  e.target.reset();

  // Close modal
  jobDriveModal.style.display = 'none';

  // Re-render icons
  feather.replace();

  // Re-bind delete event for new row
  newRow.querySelector('.btn.delete').addEventListener('click', () => {
    const confirmDelete = confirm("Are you sure you want to delete this row?");
    if (confirmDelete) newRow.remove();
  });
});


  </script>
</body>
</html>
